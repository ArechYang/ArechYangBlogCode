{"name":"Docker","slug":"Docker","count":1,"postlist":[{"title":"Docker打包自己httpd镜像","slug":"article-title","date":"2019-01-28T02:43:34.000Z","updated":"2019-01-30T01:45:32.311Z","comments":true,"path":"api/articles/article-title.json","excerpt":"","keywords":null,"cover":"images/docker_img.png","content":"<h3 id=\"Docker打包httpd镜像\"><a href=\"#Docker打包httpd镜像\" class=\"headerlink\" title=\"Docker打包httpd镜像\"></a>Docker打包httpd镜像</h3><ul>\n<li>(1)docker pull centos 下载centos镜像；</li>\n<li>(2)docker create centos 使用centos镜像创建一个容器；</li>\n<li><p>(3)docker run -i -t –name=docker_run centos bash 运行创建的容器并指定容器名；</p>\n<p>  -i : 为容器打开标准输入;</p>\n<p>  -t : 创建一个新的命令行;</p>\n<p>  -name : 指定容器名称;</p>\n<p>  centos : 指定启动容器使用的镜像;</p>\n<p>  /bin/bash: 告诉docker要在容器内执行此命令；</p>\n</li>\n<li>(4)docker commit 4f2a52ce9385 bugsos 将4f2a52ce9385 容器打包为bugsos镜像；</li>\n<li>(5)docker save 56bd3610a51d &gt; ./bugsos.tar 导出容器保存为镜像；</li>\n<li><p>(6)Docker tag可以给镜像命名；（docker tag 5182e96772bf httpd:1.0）</p>\n<p><img src=\"images/docker_img.png\" alt=\"\"></p>\n</li>\n</ul>\n<h4 id=\"遇到的问题-amp-解决方案\"><a href=\"#遇到的问题-amp-解决方案\" class=\"headerlink\" title=\"遇到的问题&amp;解决方案\"></a>遇到的问题&amp;解决方案</h4><ul>\n<li><p>(1)docker build -t centos:httpd .<br>. 代表Dockerfile文件, 生成的镜像名称为centos:httpd</p>\n</li>\n<li><p>启动httpd容器命令：<br>docker run -it -d –privileged -p 80:80 –name=http_max httpd:1.0 /sbin/init</p>\n</li>\n</ul>\n<ul>\n<li>问题：解决systemctl启动服务报错问题；</li>\n<li>措施：<br>docker run –privileged -d -p 10080:80 centos /sbin/init<br>–privileged : 该参数使root用户拥有root权限；</li>\n</ul>\n<h4 id=\"分享docker很系统的知识链接：\"><a href=\"#分享docker很系统的知识链接：\" class=\"headerlink\" title=\"分享docker很系统的知识链接：\"></a>分享docker很系统的知识链接：</h4><blockquote>\n<p>   <a href=\"https://yeasy.gitbooks.io/docker_practice/introduction/what.html\" target=\"_blank\" rel=\"noopener\">https://yeasy.gitbooks.io/docker_practice/introduction/what.html</a></p>\n</blockquote>\n","text":"Docker打包httpd镜像(1)docker pull centos 下载centos镜像；(2)docker create centos 使用centos镜像创建一个容器；(3)docker run -i -t –name=docker_run centos bash 运行","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"Docker","slug":"Docker","count":1,"path":"api/tags/Docker.json"}]}]}